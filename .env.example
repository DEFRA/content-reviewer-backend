# Server Configuration
NODE_ENV=development
HOST=0.0.0.0
PORT=3001
# SERVICE_VERSION=1.0.0  # Injected by CDP in test/prod environments
# ENVIRONMENT=test  # CDP environment: local, dev, test, perf-test, ext-test, prod

# MongoDB Configuration
# MONGO_ENABLED=false  # Enable MongoDB connection (set to true when MongoDB is configured)
MONGO_URI=mongodb://127.0.0.1:27017/
MONGO_DATABASE=content-reviewer-backend
# MONGO_RETRY_WRITES=true  # Enable Mongo write retries
# MONGO_READ_PREFERENCE=primaryPreferred  # Mongo read preference

# AWS Configuration
AWS_REGION=eu-west-2
AWS_ACCOUNT_ID=332499610595
# AWS_ENDPOINT=http://localhost:4566  # For LocalStack only, leave unset for production
# AWS_ACCESS_KEY_ID=your-access-key-id  # Not needed in CDP, uses IAM roles
# AWS_SECRET_ACCESS_KEY=your-secret-access-key  # Not needed in CDP, uses IAM roles
# HTTP_PROXY=http://proxy.example.com:8080  # Set if behind corporate proxy

# Upload Configuration
S3_BUCKET=dev-service-optimisation-c63f2  # S3 bucket for uploads, results, and prompts
S3_PATH=reviews  # S3 path prefix for storage
S3_PROMPT_KEY=prompts/system-prompt.md  # S3 key for system prompt file
UPLOAD_S3_PATH=content-uploads  # DEPRECATED: Legacy path, kept for backwards compatibility
UPLOAD_MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_ALLOWED_MIME_TYPES=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]

# SQS Configuration
SQS_QUEUE_URL=https://sqs.eu-west-2.amazonaws.com/332499610595/content_review_status
SQS_QUEUE_NAME=content_review_status
SQS_MAX_MESSAGES=10
SQS_WAIT_TIME_SECONDS=20
SQS_VISIBILITY_TIMEOUT=300
SQS_MAX_CONCURRENT_REQUESTS=3  # Set to 2-3 for dev, 5-10 for prod (based on Bedrock quotas)

# Bedrock AI Configuration
ENABLE_BEDROCK=true
BEDROCK_INFERENCE_PROFILE_ARN=arn:aws:bedrock:eu-west-2:332499610595:application-inference-profile/wrmld9jrycya
BEDROCK_GUARDRAIL_ARN=arn:aws:bedrock:eu-west-2:332499610595:guardrail/th34diy2ti2t
BEDROCK_GUARDRAIL_VERSION=1
BEDROCK_MODEL_NAME=anthropic.claude-3-7-sonnet-20250219-v1:0
BEDROCK_MAX_TOKENS=65536
BEDROCK_TEMPERATURE=0.2
BEDROCK_TOP_P=0.9

# CORS Configuration
CORS_ORIGIN=["http://localhost:3000"]
CORS_CREDENTIALS=true

# Logging
LOG_ENABLED=true
LOG_LEVEL=info
LOG_FORMAT=pino-pretty  # Use 'ecs' in production

# Metrics and Monitoring
# ENABLE_METRICS=false  # Enable in production for CloudWatch metrics
# TRACING_HEADER=x-cdp-request-id  # CDP tracing header name

# Content Review Configuration
# CONTENT_REVIEW_MAX_CHAR_LEN=50000  # Maximum character length for content review

# Mock Mode (for local development without AWS)
# MOCK_S3_UPLOAD=false  # Mock S3 uploads
# SKIP_SQS_WORKER=false  # Skip starting SQS worker
